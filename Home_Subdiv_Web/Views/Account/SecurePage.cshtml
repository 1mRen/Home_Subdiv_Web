@{
    // Sets the page title for the Secure Page view
    ViewData["Title"] = "Secure Page";
}

<!-- Page heading -->
<h1>Welcome to the Secure Page</h1>

<!-- Display the logged-in user's name -->
<p>Hello, @User.Identity.Name!</p>

<!-- Check if the user is authenticated -->
@if (User.Identity.IsAuthenticated)
{
    <!-- Display the logged-in user's name -->
    <p>You are logged in as: <strong>@User.Identity.Name</strong></p>

    <!-- Display the user's role by retrieving the role claim -->
    <p>Your role: <strong>@User.Claims.FirstOrDefault(c => c.Type == System.Security.Claims.ClaimTypes.Role)?.Value</strong></p>

    <!-- Logout form that submits a POST request to the Account controller's Logout action -->
    <form method="post" asp-action="Logout" asp-controller="Account">
        <button type="submit" class="btn btn-danger">Logout</button>
    </form>
}
else
{
    <!-- Display message and login link for unauthenticated users -->
    <p>You are not logged in. Please <a asp-action="Login" asp-controller="Account">log in</a>.</p>
}
